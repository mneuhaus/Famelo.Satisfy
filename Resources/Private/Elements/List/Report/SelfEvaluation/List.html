{namespace cm=TYPO3\Expose\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
{namespace a=Famelo\ADU\ViewHelpers}
{namespace feature=Famelo\Features\ViewHelpers}

<div id="listjs">

  	<div class="filter-bar">
  		<div class="filter">
  			<label>Suchen</label>
  			<input class="search" placeholder="Suchen" />
  		</div>
<!--
		<div class="filter">
 			<label>Selbsteinschätzung</label>
 			<div class="nav-horizontal" data-filter-property="evaluation">
 				<ul>
 					<li>
 						<a class="btn" data-filter-set="">Alle</a>
 					</li>
 					<li>
 						<a class="btn" data-filter-set="green">Zufrieden</a>
 					</li>
 					<li>
 						<a class="btn" data-filter-set="red,yellow,orange">Unzufrieden</a>
 					</li>
 				</ul>
 			</div>
 		</div>

 		<div class="filter">
 			<label>Kundenberater</label>
 			<div class="nav-horizontal" data-filter="dropdown" data-filter-property="consultant"></div>
 		</div>

 		<div class="filter">
 			<label>Niederlassung</label>
 			<div class="nav-horizontal" data-filter="dropdown" data-filter-property="branch"></div>
 		</div>
 -->
 	</div>

	<table class="table table-striped table-condensed table-bordered list-table" data-klove="container" >
		<thead>
			<tr>
				<th>Kunde</th>
				<th class="hidden-phone">Kundenberater</th>
				<!-- <th class="hidden-phone">Niederlassung</th> -->
				<th>
					Selbsteinschätzung
					(KW{a:calendarWeek(delta: 0)}/KW{a:calendarWeek(delta: '-1')}/KW{a:calendarWeek(delta: '-2')})
				</th>
				<th>Kommentar/Maßnahme</th>
				<feature:active feature="Befragung"><th>Befragung</th></feature:active>
			</tr>
		</thead>
		<tbody class="list">
			<ts:renderTypoScript path="elements"  />
		</tbody>
	</table>

  	<div class="pagination pull-right">
    	<ul class="paging clearfix"></ul>
  	</div>
</div>


<script type="text/javascript">
    var options = {
	    valueNames: [ 'name', 'rating', 'evaluation', 'consultant', 'branch', 'sorting' ],
	    page: 30,
	    plugins: [
	        [ 'filtering', {} ],
	        [ 'paging', {
	            pagingClass: "paging",
	            innerWindow: 10,
        	    left: 20,
        	    right: 30
	        } ]
	    ]
    };
    var featureList = new List('listjs', options);
    featureList.sort('sorting');
</script>